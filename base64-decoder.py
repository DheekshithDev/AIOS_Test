import base64

def save_file_from_base64(encoded_str: str, filename: str):
    """
    Decode a base64 string and save it as a file.
    
    Args:
        encoded_str (str): The base64 string (your DB content).
        filename (str): The output file name, e.g. "config.json", "script.py", "notes.txt".
    """
    # Decode
    decoded_bytes = base64.b64decode(encoded_str)
    
    # Write to file
    with open(filename, "wb") as f:
        f.write(decoded_bytes)
    print(f"Saved: {filename}")

# Example usage
b64_str = """ZnJvbSBhdXRvZ2VuIGltcG9ydCBBc3Npc3RhbnRBZ2VudCwgR3JvdXBDaGF0LCBHcm91cENoYXRNYW5hZ2VyCgpmcm9tIGNlcmVicnVtLmNvbW11bml0eS5hZGFwdGVyIGltcG9ydCBwcmVwYXJlX2ZyYW1ld29yaywgRnJhbWV3b3JrVHlwZSwgc2V0X3JlcXVlc3RfZnVuYwpmcm9tIGNlcmVicnVtLnV0aWxzLmNvbW11bmljYXRpb24gaW1wb3J0IHNlbmRfcmVxdWVzdAoKCmNsYXNzIEF1dG9HZW5BZ2VudDoKCiAgICBkZWYgX19pbml0X18oc2VsZiwgYWdlbnRfbmFtZSk6CiAgICAgICAgc2VsZi5hZ2VudF9uYW1lID0gYWdlbnRfbmFtZQoKICAgICAgICAjIHByZXBhcmUgYXV0b2dlbgogICAgICAgIHByZXBhcmVfZnJhbWV3b3JrKEZyYW1ld29ya1R5cGUuQXV0b0dlbikKCiAgICBkZWYgcnVuKHNlbGYsIHRhc2spOgogICAgICAgICMgc2V0IGFpb3MgcmVxdWVzdCBmdW5jdGlvbgogICAgICAgIHNldF9yZXF1ZXN0X2Z1bmMoc2VuZF9yZXF1ZXN0LCBzZWxmLmFnZW50X25hbWUpCgogICAgICAgICMgQ3JlYXRlIG11bHRpcGxlIEF1dG9HZW4gYWdlbnRzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbgogICAgICAgIHJlc2VhcmNoX2FnZW50ID0gQXNzaXN0YW50QWdlbnQobmFtZT0iUmVzZWFyY2hlciIpICAjIEhhbmRsZXMgcmVzZWFyY2ggb24gZGVzdGluYXRpb25zCiAgICAgICAgaXRpbmVyYXJ5X2FnZW50ID0gQXNzaXN0YW50QWdlbnQobmFtZT0iSXRpbmVyYXJ5UGxhbm5lciIpICAjIENyZWF0ZXMgdGhlIGl0aW5lcmFyeQogICAgICAgIGJ1ZGdldF9hZ2VudCA9IEFzc2lzdGFudEFnZW50KG5hbWU9IkJ1ZGdldEFkdmlzb3IiKSAgIyBQcm92aWRlcyBidWRnZXQgcmVjb21tZW5kYXRpb25zCiAgICAgICAgdHJhbnNwb3J0X2FnZW50ID0gQXNzaXN0YW50QWdlbnQobmFtZT0iVHJhbnNwb3J0QWR2aXNvciIpICAjIFN1Z2dlc3RzIHRyYW5zcG9ydGF0aW9uIG9wdGlvbnMKCiAgICAgICAgIyBTZXQgdXAgZ3JvdXAgY2hhdCBmb3IgY29sbGFib3JhdGlvbgogICAgICAgIGdyb3VwY2hhdCA9IEdyb3VwQ2hhdCgKICAgICAgICAgICAgYWdlbnRzPVsKICAgICAgICAgICAgICAgIHJlc2VhcmNoX2FnZW50LAogICAgICAgICAgICAgICAgaXRpbmVyYXJ5X2FnZW50LAogICAgICAgICAgICAgICAgYnVkZ2V0X2FnZW50LAogICAgICAgICAgICAgICAgdHJhbnNwb3J0X2FnZW50CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIG1lc3NhZ2VzPVtdICAjIFJlcXVpcmVkIHBhcmFtZXRlcgogICAgICAgICkKICAgICAgICBtYW5hZ2VyID0gR3JvdXBDaGF0TWFuYWdlcihncm91cGNoYXQ9Z3JvdXBjaGF0KQoKICAgICAgICAjIEdlbmVyYXRlIGEgc3RydWN0dXJlZCBtZXNzYWdlIGZvciB0aGUgYWdlbnRzCiAgICAgICAgYWdlbnRfbWVzc2FnZSA9ICgKICAgICAgICAgICAgIkdlbmVyYXRlIGEgY29tcHJlaGVuc2l2ZSB0cmF2ZWwgcGxhbiBiYXNlZCBvbiB0aGUgZm9sbG93aW5nIHJlcXVlc3Q6IFxuIgogICAgICAgICAgICBmInt0YXNrfVxuXG4iCiAgICAgICAgICAgICJQcm92aWRlOlxuIgogICAgICAgICAgICAiMS4gRGVzdGluYXRpb24gcmVzZWFyY2ggKGF0dHJhY3Rpb25zLCBiZXN0IHRpbWUgdG8gdmlzaXQsIGN1bHR1cmUpLlxuIgogICAgICAgICAgICAiMi4gQSBkZXRhaWxlZCBkYXktYnktZGF5IGl0aW5lcmFyeSB3aXRoIGFjdGl2aXRpZXMuXG4iCiAgICAgICAgICAgICIzLiBCdWRnZXQgZXN0aW1hdGlvbiwgaW5jbHVkaW5nIGFjY29tbW9kYXRpb24sIGZvb2QsIGFuZCBhY3Rpdml0aWVzLlxuIgogICAgICAgICAgICAiNC4gVHJhbnNwb3J0YXRpb24gb3B0aW9ucyAoZmxpZ2h0cywgbG9jYWwgdHJhbnNwb3J0LCBjYXIgcmVudGFscykuXG4iCiAgICAgICAgICAgICI1LiBBZGRpdGlvbmFsIHRyYXZlbCB0aXBzIGFuZCBzYWZldHkgcmVjb21tZW5kYXRpb25zLiIKICAgICAgICApCgogICAgICAgICMgSW5pdGlhdGUgY29udmVyc2F0aW9uIGFtb25nIEF1dG9HZW4gYWdlbnRzCiAgICAgICAgZmluYWxfcmVzdWx0ID0gbWFuYWdlci5pbml0aWF0ZV9jaGF0KHJlc2VhcmNoX2FnZW50LCBtZXNzYWdlPWFnZW50X21lc3NhZ2UsIHN1bW1hcnlfbWV0aG9kPSJyZWZsZWN0aW9uX3dpdGhfbGxtIiwgbWF4X3R1cm5zPTMpLnN1bW1hcnkKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiYWdlbnRfbmFtZSI6IHNlbGYuYWdlbnRfbmFtZSwKICAgICAgICAgICAgInJlc3VsdCI6IGZpbmFsX3Jlc3VsdFsnY29udGVudCddLAogICAgICAgICAgICAicm91bmRzIjogMSwKICAgICAgICB9Cgo="""

# Save as JSON
save_file_from_base64(b64_str, "agent.py")
